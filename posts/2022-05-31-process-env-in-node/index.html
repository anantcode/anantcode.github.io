<!doctype html><html lang=en dir=auto><head><link rel=icon type=image/svg+xml href="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22256%22%20height=%22256%22%20viewBox=%220%200%20100%20100%22%3E%3Crect%20width=%22100%22%20height=%22100%22%20rx=%2220%22%20fill=%22%23998bff%22/%3E%3Cpath%20d=%22M90.08%2050.06q0%204.25-1.5%207.47Q87.09%2060.75%2084.61%2062.94%2082.14%2065.12%2078.75%2066.22q-3.39%201.09-7.19%201.09-6.67.0-11.9-2.59Q54.43%2062.13%2050.06%2056.5%2041.43%2067.31%2028.44%2067.31%2024.64%2067.31%2021.25%2066.16%2017.86%2065.01%2015.33%2062.82q-2.53-2.18-3.97-5.4-1.44-3.22-1.44-7.36.0-4.14%201.5-7.42%201.49-3.28%204.02-5.46%202.53-2.19%205.98-3.34Q24.87%2032.69%2028.67%2032.69q6.55.0%2011.67%203.05%205.12%203.05%209.49%208.57%204.6-5.87%209.77-8.74%205.18-2.88%2011.5-2.88Q79.61%2032.69%2084.84%2037.41q5.24%204.71%205.24%2012.65zM70.07%2040.17q-4.83.0-8.63%203.04-3.79%203.05-6.9%207.08%202.76%203.79%206.73%206.67Q65.24%2059.83%2070.53%2059.83q5.17.0%207.99-2.76Q81.34%2054.31%2081.34%2050.17%2081.34%2045.8%2078.29%2042.98%2075.24%2040.17%2070.07%2040.17zM29.36%2059.83q4.83.0%208.91-2.58%204.08-2.59%207.07-6.96Q42.01%2045.92%2038.04%2043.04q-3.97-2.87-8.57-2.87-4.83.0-7.76%202.58-2.93%202.59-2.93%207.31.0%204.71%202.93%207.24%202.93%202.53%207.65%202.53z%22%20fill=%22%23fff%22/%3E%3C/svg%3E"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Environment variables in Node.js | Anant Code</title><meta name=keywords content="node"><meta name=description content="Desc Text."><meta name=author content="Anant"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="n93alLymCnvb8vf0hiJ1WShKUjmDzM0QaRUL4aRSDfY"><link crossorigin=anonymous href=/assets/css/stylesheet.min.48a18943c2fc15c38a372b8dde1f5e5dc0bc64fa6cb90f5a817d2f8c76b7f3ae.css integrity="sha256-SKGJQ8L8FcOKNyuN3h9eXcC8ZPpsuQ9agX0vjHa3864=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://anantcode.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://anantcode.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://anantcode.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://anantcode.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://anantcode.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Environment variables in Node.js"><meta property="og:description" content="Desc Text."><meta property="og:type" content="article"><meta property="og:url" content="https://anantcode.github.io/posts/2022-05-31-process-env-in-node/"><meta property="og:image" content="https://anantcode.github.io/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-31T06:48:11+05:30"><meta property="article:modified_time" content="2022-05-31T06:48:11+05:30"><meta property="og:site_name" content="Anant Code"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://anantcode.github.io/%3Cimage%20path/url%3E"><meta name=twitter:title content="Environment variables in Node.js"><meta name=twitter:description content="Desc Text."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://anantcode.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Environment variables in Node.js","item":"https://anantcode.github.io/posts/2022-05-31-process-env-in-node/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Environment variables in Node.js","name":"Environment variables in Node.js","description":"Desc Text.","keywords":["node"],"articleBody":"Learn how to work with environment variabes in Node.js\nCan check environment variables:   Start node REPL: node in terminal (before this check if node is installed by node -v)\n  console.log(process.env)\n   const app = require('http').createServer((req, res) = res.send('Ahoy!')); //in case of PORT, this particular var is undefined usually in all cloud providers, so this way works - gets 3000, or prefers if YOU define something in sys env const PORT = process.env.PORT || 3000;  app.listen(PORT, () = {  console.log(`Server is listening on port ${PORT}`); }); The line const PORT = process.env.PORT || 3000 will take the value of the PORT if it’s available or default to listening to 3000 as a fallback port. Try running the code by saving it in a file like server.js and run:\nnode server.js The output should be a message saying, “Server is listening on port 3000.” Stop the server with Ctrl+C and restart it with the following command:\nPORT=9999 node server.js The message should now say, “Server is listening on port 9999.” This means the PORT variable has been temporarily set in front of the node for this execution by PORT=9999.\nHow to set env variable PORT=9999 node server.js\nA similiar way to do this is:\nprocess.env.MY_VARIABLE = 'ahoy';\nboth above are temporary ways\n value is only set during the execution of this Node.js process and only available in child processes spawned by this process. You should avoid overriding environment variables as much as possible and just initialize a configuration variable in your code, as shown in the PORT example (works for PORT because usually in case of PORT, this particular var is undefined usually in all cloud providers, so this way works - gets 3000, or prefers if YOU define something in sys env)  .env files If you develop multiple Node.js projects on one computer, you might have overlapping environment variable names. For example, different messaging apps might need different Twilio Messaging Service SIDs, but both would be called TWILIO_MESSAGE_SERVICE_SID. A great way to achieve project-specific configuration is by using .env files. These files allow you to specify a variety of different environment variables and associated values.\n Typically, you don’t want to checkin these files in source control. So when you create one, just add .env to your .gitignore file.\n because you dont checkin these, you can search and get .env.example - it is shared by others as template file, refer it to write your .env file and and write your values.\nHow do we load the values from this file? The easiest way is by using an npm module called dotenv. Simply install the module via npm:\nnpm install dotenv --save Afterward, add the following line to the very top of your entry file:\nrequire('dotenv').config(); This code will automatically load the .env file in the root of your project and initialize the values, skipping any variables already preset. Be careful not to use .env files in your production environment, though. Instead, set the values directly on the respective host. So you might want to wrap your load statement in an if statement:\nif (process.env.NODE_ENV !== 'production') {  require('dotenv').config(); } With this code, we’ll only load the .env file if the server isn’t already in production mode.\nLet’s see this in action. Install dotenv in a directory, as shown above. Create an dotenv-example.js file in the same directory and place the following lines into it:\nconsole.log('No value for FOO yet:', process.env.FOO);  if (process.env.NODE_ENV !== 'production') {  require('dotenv').config(); }  console.log('Now the value for FOO is:', process.env.FOO); Afterward, create a file called .env in the same directory with this content:\nFOO=bar Run the script:\nnode dotenv-example.js The output should look like:\nNo value for FOO yet: undefined Now the value for FOO is: bar As you can see, the value was loaded and defined using dotenv. If you rerun the same command with NODE_ENV set to production, you’ll see that it’ll stay undefined.\nNODE_ENV=production node dotenv-example.js Now the output should be:\nNo value for FOO yet: undefined Now the value for FOO is: undefined If you don’t want to modify your actual code, you can also use Node’s -r argument to load dotenv when executing the script. Change your dotenv-example.js file to:\nconsole.log('The value for FOO is:', process.env.FOO); Now execute the file as you normally would:\nnode dotenv-example.js The script should output that the current value for FOO is undefined. Now execute it with the appropriate flag to require dotenv:\nnode -r dotenv/config dotenv-example.js The result is that FOO is now set to bar since the .env file has been loaded. If you want to learn more about dotenv, make sure to check out its documentation.\n Reference: This article by Dominik Kundel\n","wordCount":"776","inLanguage":"en","image":"https://anantcode.github.io/%3Cimage%20path/url%3E","datePublished":"2022-05-31T06:48:11+05:30","dateModified":"2022-05-31T06:48:11+05:30","author":{"@type":"Person","name":"Anant"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://anantcode.github.io/posts/2022-05-31-process-env-in-node/"},"publisher":{"@type":"Organization","name":"Anant Code","logo":{"@type":"ImageObject","url":"https://anantcode.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://anantcode.github.io/ accesskey=h title="Anant's Blog (Alt + H)"><img src=https://anantcode.github.io/favicon.svg alt=logo aria-label=logo height=35>Anant's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://anantcode.github.io/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://anantcode.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://anantcode.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://anantcode.github.io/about/ title=About><span>About</span></a></li><li><a href=https://anantcode.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://anantcode.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://anantcode.github.io/posts/>Posts</a></div><h1 class=post-title>Environment variables in Node.js</h1><div class=post-description>Desc Text.</div><div class=post-meta><span title="2022-05-31 06:48:11 +0530 IST">May 31, 2022</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Anant&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2022-05-31-process-env-in-node.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://anantcode.github.io/%3Cimage%20path/url%3E alt><p></p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#can-check-environment-variables aria-label="Can check environment variables:">Can check environment variables:</a></li><li><a href=#how-to-set-env-variable aria-label="How to set env variable">How to set env variable</a></li><li><a href=#env-files aria-label=".env files"><code>.env</code> files</a></li></ul></div></details></div><div class=post-content><p>Learn how to work with environment variabes in Node.js</p><h2 id=can-check-environment-variables>Can check environment variables:<a hidden class=anchor aria-hidden=true href=#can-check-environment-variables>#</a></h2><ol><li><p>Start node REPL: <code>node</code> in terminal (before this check if node is installed by <code>node -v</code>)</p></li><li><p><code>console.log(process.env)</code></p></li></ol><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;http&#39;</span>).<span style=color:#a6e22e>createServer</span>((<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>send</span>(<span style=color:#e6db74>&#39;Ahoy!&#39;</span>));
</span></span><span style=display:flex><span><span style=color:#75715e>//in case of PORT, this particular var is undefined usually in all cloud providers, so this way works - gets 3000, or prefers if YOU define something in sys env
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PORT</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>PORT</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>3000</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>listen</span>(<span style=color:#a6e22e>PORT</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Server is listening on port </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>PORT</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>The line <code>const PORT = process.env.PORT || 3000</code> will take the value of the <code>PORT</code> if it’s available or default to listening to <code>3000</code> as a fallback port. Try running the code by saving it in a file like server.js and run:</p><p><code>node server.js</code>
The output should be a message saying, &ldquo;Server is listening on port 3000.&rdquo; Stop the server with <code>Ctrl+C</code> and restart it with the following command:</p><p><code>PORT=9999 node server.js</code>
The message should now say, “Server is listening on port 9999.” This means the PORT variable has been temporarily set in front of the node for this execution by PORT=9999.</p><h2 id=how-to-set-env-variable>How to set env variable<a hidden class=anchor aria-hidden=true href=#how-to-set-env-variable>#</a></h2><p><code>PORT=9999 node server.js</code></p><p>A similiar way to do this is:</p><p><code>process.env.MY_VARIABLE = 'ahoy';</code></p><p>both above are temporary ways</p><ul><li>value is only set during the execution of this Node.js process and only available in child processes spawned by this process.</li><li>You should avoid overriding environment variables as much as possible and just initialize a configuration variable in your code, as shown in the PORT example (works for PORT because usually in case of PORT, this particular var is undefined usually in all cloud providers, so this way works - gets 3000, or prefers if YOU define something in sys env)</li></ul><h2 id=env-files><code>.env</code> files<a hidden class=anchor aria-hidden=true href=#env-files>#</a></h2><p>If you develop multiple Node.js projects on one computer, you might have overlapping environment variable names. For example, different messaging apps might need different Twilio Messaging Service SIDs, but both would be called TWILIO_MESSAGE_SERVICE_SID. A great way to achieve project-specific configuration is by using .env files. These files allow you to specify a variety of different environment variables and associated values.</p><blockquote><p>Typically, you don’t want to checkin these files in source control. So when you create one, just add .env to your .gitignore file.</p></blockquote><p>because you dont checkin these, you can search and get <code>.env.example</code> - it is shared by others as template file, refer it to write your .env file and and write your values.</p><p>How do we load the values from this file? The easiest way is by using an <a href=http://npm.im/dotenv>npm module called dotenv</a>. Simply install the module via npm:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>npm</span> <span style=color:#a6e22e>install</span> <span style=color:#a6e22e>dotenv</span> <span style=color:#f92672>--</span><span style=color:#a6e22e>save</span>
</span></span></code></pre></div><p>Afterward, add the following line to the very top of your entry file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;dotenv&#39;</span>).<span style=color:#a6e22e>config</span>();
</span></span></code></pre></div><p>This code will automatically load the <strong>.env file in the root of your project</strong> and initialize the values, skipping any variables already preset. Be careful not to use .env files in your production environment, though. Instead, set the values directly on the respective host. So you might want to wrap your load statement in an if statement:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>NODE_ENV</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;production&#39;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;dotenv&#39;</span>).<span style=color:#a6e22e>config</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>With this code, we’ll only load the .env file if the server isn’t already in production mode.</p><p>Let’s see this in action. Install <code>dotenv</code> in a directory, as shown above. Create an dotenv-example.js file in the same directory and place the following lines into it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;No value for FOO yet:&#39;</span>, <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>FOO</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>NODE_ENV</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;production&#39;</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;dotenv&#39;</span>).<span style=color:#a6e22e>config</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;Now the value for FOO is:&#39;</span>, <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>FOO</span>);
</span></span></code></pre></div><p>Afterward, create a file called <code>.env</code> in the same directory with this content:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>FOO</span><span style=color:#f92672>=</span><span style=color:#a6e22e>bar</span>
</span></span></code></pre></div><p>Run the script:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>node</span> <span style=color:#a6e22e>dotenv</span><span style=color:#f92672>-</span><span style=color:#a6e22e>example</span>.<span style=color:#a6e22e>js</span>
</span></span></code></pre></div><p>The output should look like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>No</span> <span style=color:#a6e22e>value</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>FOO</span> <span style=color:#a6e22e>yet</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>undefined</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Now</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>value</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>FOO</span> <span style=color:#a6e22e>is</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>bar</span>
</span></span></code></pre></div><p>As you can see, the value was loaded and defined using dotenv. If you rerun the same command with NODE_ENV set to production, you’ll see that it’ll stay undefined.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>NODE_ENV</span><span style=color:#f92672>=</span><span style=color:#a6e22e>production</span> <span style=color:#a6e22e>node</span> <span style=color:#a6e22e>dotenv</span><span style=color:#f92672>-</span><span style=color:#a6e22e>example</span>.<span style=color:#a6e22e>js</span>
</span></span></code></pre></div><p>Now the output should be:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>No</span> <span style=color:#a6e22e>value</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>FOO</span> <span style=color:#a6e22e>yet</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>undefined</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Now</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>value</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>FOO</span> <span style=color:#a6e22e>is</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>undefined</span>
</span></span></code></pre></div><p>If you don’t want to modify your actual code, you can also use Node’s <code>-r</code> argument to load <code>dotenv</code> when executing the script. Change your <code>dotenv-example.js</code> file to:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;The value for FOO is:&#39;</span>, <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>FOO</span>);
</span></span></code></pre></div><p>Now execute the file as you normally would:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>node</span> <span style=color:#a6e22e>dotenv</span><span style=color:#f92672>-</span><span style=color:#a6e22e>example</span>.<span style=color:#a6e22e>js</span>
</span></span></code></pre></div><p>The script should output that the current value for <code>FOO</code> is <code>undefined</code>. Now execute it with the appropriate flag to require <code>dotenv</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>node</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>r</span> <span style=color:#a6e22e>dotenv</span><span style=color:#f92672>/</span><span style=color:#a6e22e>config</span> <span style=color:#a6e22e>dotenv</span><span style=color:#f92672>-</span><span style=color:#a6e22e>example</span>.<span style=color:#a6e22e>js</span>
</span></span></code></pre></div><p>The result is that <code>FOO</code> is now set to <code>bar</code> since the <code>.env</code> file has been loaded. If you want to learn more about <code>dotenv</code>, make sure to check out its <a href=https://www.npmjs.com/package/dotenv>documentation.</a></p><hr><p>Reference: <a href=https://www.twilio.com/blog/working-with-environment-variables-in-node-js-html>This article</a> by Dominik Kundel</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://anantcode.github.io/tags/node/>node</a></li></ul><nav class=paginav><a class=prev href=https://anantcode.github.io/posts/2022-05-31-day12-100doc/><span class=title>« Prev Page</span><br><span>Day12 #100DaysOfCode</span></a>
<a class=next href=https://anantcode.github.io/posts/2022-05-30-day11-100doc/><span class=title>Next Page »</span><br><span>Day11 #100DaysOfCode</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Environment variables in Node.js on twitter" href="https://twitter.com/intent/tweet/?text=Environment%20variables%20in%20Node.js&url=https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f&hashtags=node"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Environment variables in Node.js on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f&title=Environment%20variables%20in%20Node.js&summary=Environment%20variables%20in%20Node.js&source=https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Environment variables in Node.js on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f&title=Environment%20variables%20in%20Node.js"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Environment variables in Node.js on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Environment variables in Node.js on whatsapp" href="https://api.whatsapp.com/send?text=Environment%20variables%20in%20Node.js%20-%20https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Environment variables in Node.js on telegram" href="https://telegram.me/share/url?text=Environment%20variables%20in%20Node.js&url=https%3a%2f%2fanantcode.github.io%2fposts%2f2022-05-31-process-env-in-node%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://anantcode.github.io/>Anant Code</a></span>
<span>Build with ❤ using
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>